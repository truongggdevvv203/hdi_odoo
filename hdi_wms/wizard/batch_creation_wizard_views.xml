<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_batch_creation_wizard_form" model="ir.ui.view">
        <field name="name">hdi.batch.creation.wizard.form</field>
        <field name="model">hdi.batch.creation.wizard</field>
        <field name="arch" type="xml">
            <form string="Tạo/Chọn Lô hàng">
                <group>
                    <field name="picking_id" invisible="1"/>
                    <field name="mode" widget="radio" string="Chọn phương thức"/>
                </group>

                <!-- Chọn lô có sẵn -->
                <group invisible="mode != 'existing'" string="Chọn từ Lô hàng có sẵn">
                    <field name="existing_batch_id" string="Lô hàng"
                           options="{'no_create': True, 'no_open': False}"
                           placeholder="Chọn lô hàng chưa hoàn thành..."
                           help="Danh sách các lô đã tạo từ menu 'Lô hàng/Pallet' hoặc từ các phiếu khác chưa hoàn thành"/>
                </group>
                <group invisible="mode != 'new'">
                    <group>
                        <field name="batch_type" widget="radio" string="Loại lô"/>
                        <field name="product_id" string="Sản phẩm"/>
                        <field name="quantity" string="Số lượng"/>
                        <field name="location_id" string="Vị trí"/>
                    </group>
                    <group>
                        <field name="auto_generate_barcode" string="Tự động tạo mã vạch"/>
                        <field name="barcode" invisible="auto_generate_barcode" string="Mã vạch"/>
                    </group>
                </group>
                <group string="Thuộc tính vật lý" invisible="mode != 'new'">
                    <field name="weight" string="Trọng lượng (kg)"/>
                    <field name="volume" string="Thể tích (m³)"/>
                </group>
                <group string="Chứng từ Nhập khẩu" invisible="mode != 'new'">
                    <field name="import_invoice_number" string="Số hóa đơn nhập khẩu"/>
                    <field name="import_packing_list" string="Phiếu đóng gói"/>
                    <field name="import_bill_of_lading" string="Vận đơn"/>
                </group>
                <footer>
                    <button name="action_create_batch" string="Xác nhận" type="object" class="btn-primary"/>
                    <button string="Hủy" special="cancel" class="btn-secondary"/>
                </footer>
            </form>
        </field>
    </record>

</odoo>
