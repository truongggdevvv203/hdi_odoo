<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Systray Attendance Kiosk Form View -->
        <record id="view_attendance_kiosk_form" model="ir.ui.view">
        <field name="name">Attendance Kiosk Form</field>
        <field name="model">hr.attendance</field>
        <field name="arch" type="xml">
            <form string="Chấm Công" create="false" delete="false" edit="false">
                <sheet>
                    <div class="kiosk-container" style="text-align: center; padding: 40px;">
                        <!-- Header -->
                        <h1 class="kiosk-title" style="font-size: 32px; margin-bottom: 20px; color: #333;">
                            Chấm Công Điện Tử
                        </h1>
                        
                        <!-- Current Time -->
                        <div id="current-time-display" style="font-size: 48px; color: #667eea; font-weight: bold; margin-bottom: 30px; font-family: 'Courier New';">
                            <span id="clock-display">--:--:--</span>
                        </div>

                        <!-- Employee Info Card -->
                        <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 15px; padding: 30px; margin-bottom: 30px;">
                            <h2 id="employee-name-display" style="font-size: 24px; color: #333; margin-bottom: 10px;">
                                Loading...
                            </h2>
                            <div id="status-message-display" style="font-size: 16px; color: #666; font-weight: 500;"></div>

                            <!-- Status Details -->
                            <div style="background: white; border-radius: 10px; padding: 20px; margin-top: 20px;">
                                <div id="check-in-detail" style="display: none; padding: 10px 0; border-bottom: 1px solid #eee;">
                                    <span style="font-weight: 600; color: #555;">Check-in: </span>
                                    <span id="check-in-time-display" style="color: #667eea; font-weight: 700;"></span>
                                </div>
                                <div id="check-out-detail" style="display: none; padding: 10px 0; border-bottom: 1px solid #eee;">
                                    <span style="font-weight: 600; color: #555;">Check-out: </span>
                                    <span id="check-out-time-display" style="color: #667eea; font-weight: 700;"></span>
                                </div>
                                <div id="worked-hours-detail" style="display: none; padding: 10px 0; border-bottom: 1px solid #eee;">
                                    <span style="font-weight: 600; color: #555;">Giờ làm việc: </span>
                                    <span id="worked-hours-display" style="color: #667eea; font-weight: 700;"></span>
                                </div>
                                <div style="padding: 10px 0;">
                                    <span style="font-weight: 600; color: #555;">Hôm nay: </span>
                                    <span id="today-hours-display" style="color: #27ae60; font-weight: 700; font-size: 18px;">0 giờ</span>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                            <div id="check-in-btn-kiosk" class="btn btn-primary" onclick="performCheckIn()" style="padding: 18px; font-size: 16px; font-weight: 600; cursor: pointer; text-align: center;">
                                <i class="fa fa-sign-in" style="margin-right: 8px;"></i>Check-in
                            </div>
                            <div id="check-out-btn-kiosk" class="btn btn-danger" onclick="performCheckOut()" style="padding: 18px; font-size: 16px; font-weight: 600; opacity: 0.5; cursor: not-allowed; text-align: center; pointer-events: none;">
                                <i class="fa fa-sign-out" style="margin-right: 8px;"></i>Check-out
                            </div>
                        </div>

                        <!-- Result Message -->
                        <div id="result-message-kiosk" style="display: none; padding: 15px 20px; border-radius: 10px; text-align: center; font-weight: 600; margin-top: 20px;"></div>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Action Window cho Kiosk -->
    <record id="action_attendance_kiosk_form" model="ir.actions.act_window">
        <field name="name">Chấm Công</field>
        <field name="res_model">hr.attendance</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="view_attendance_kiosk_form"/>
        <field name="target">fullscreen</field>
        <field name="context">{}</field>
    </record>
    </data>
</odoo>
